{% extends 'base.html' %}
{% block title %}Cadastro dos Pets{% endblock %}
{% block content %}

      <div class="page-header">
        <h1 class="page-title">Cadastro dos Pets</h1>
        
        <form method="GET" action="{{ url_for('index') }}" class="search-bar">
          <label for="search">Pesquisa:</label>
          <input type="text" id="search" name="Pesquisa" placeholder="Nome do pet ou dono..." value="{{ query or '' }}">
          </form>
      </div>

      <a href="{{ url_for('adicionar') }}" class="btn-custom-verde" style="margin-bottom: 1.5rem; display: inline-block;">Adicionar Novo Cachorro</a>
      
      <table class="table-custom">
          <thead>
              <tr>
                  <th>Nome</th>
                  <th>Dono</th>
                  <th>Energia</th>
                  <th>Ações</th>
              </tr>
          </thead>
          <tbody>
              {% for c in cachorros %}
              <tr>
                  <td>{{ c.nome }}</td>
                  <td>{{ c.proprietario }}</td>
                  <td>
                    {% if c.grau_energia == 'A' %} Alto
                    {% elif c.grau_energia == 'M' %} Médio
                    {% else %} Baixo
                    {% endif %}
                  </td>
                  <td class="action-buttons">
                      <a href="{{ url_for('editar', id=c.id) }}" class="btn-custom-laranja">Editar</a>
                      
                      <form action="{{ url_for('deletar', id=c.id) }}" method="POST" style="display: inline-block;" 
                            onsubmit="return confirm('Tem certeza que deseja deletar o pet {{ c.nome }}?')">
                        <button type="submit" class="btn-custom-vermelho">Deletar</button>
                      </form>
                  </td>
              </tr>
              {% else %}
              <tr class="no-data">
                  <td colspan="4"> {% if query %}
                      Nenhum pet encontrado para a busca: "{{ query }}"
                    {% else %}
                      Nenhum cachorro cadastrado ainda.
                    {% endif %}
                  </td>
              </tr>
              {% endfor %}
          </tbody>
      </table>
{% endblock %}
```eof